{% extends "layout.html" %}

{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}

{% block pageTitle %}
  GOV.UK Prototype Kit
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

    {% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}

    {% set html %}
    <p class="govuk-notification-banner__heading">
      Your application was rejected.
      <a class="govuk-notification-banner__link" href="#">View application</a>.
    </p>
    {% endset %}

    {{ govukNotificationBanner({
      titleText: 'Warning',
      html: html,
      type: 'error'
    }) }}    

      <h1 class="govuk-heading-xl">Dashboard</h1>

      {% from "govuk/components/tabs/macro.njk" import govukTabs %}
      {% from "govuk/components/table/macro.njk" import govukTable %}

      {% set pastDayHtml %}
      <h2 class="govuk-heading-l">Pending applications</h2>
      {{ govukTable({
        head: [
          {
            text: "Role"
          },
          {
            text: "Response due by"
          }
        ],
        rows: [
          [
            {
              text: "Teaching assistant"
            },
            {
              text: "9 February 2021"
            }
          ],
          [
            {
              text: "Trainee classroom assistant"
            },
            {
              text: "11 February 2021"
            }
          ]
        ]
      }) }}
      {% endset -%}

      {% set pastWeekHtml %}
      <h2 class="govuk-heading-l">Past week</h2>
      {{ govukTable({
        head: [
          {
            text: "Case manager"
          },
          {
            text: "Cases opened"
          },
          {
            text: "Cases closed"
          }
        ],
        rows: [
          [
            {
              text: "David Francis"
            },
            {
              text: "24"
            },
            {
              text: "18"
            }
          ],
          [
            {
              text: "Paul Farmer"
            },
            {
              text: "16"
            },
            {
              text: "20"
            }
          ],
          [
            {
              text: "Rita Patel"
            },
            {
              text: "24"
            },
            {
              text: "27"
            }
          ]
        ]
      }) }}
      {% endset -%}

      {% set pastMonthHtml %}
      <h2 class="govuk-heading-l">Past month</h2>
      {{ govukTable({
        head: [
          {
            text: "Case manager"
          },
          {
            text: "Cases opened"
          },
          {
            text: "Cases closed"
          }
        ],
        rows: [
          [
            {
              text: "David Francis"
            },
            {
              text: "98"
            },
            {
              text: "95"
            }
          ],
          [
            {
              text: "Paul Farmer"
            },
            {
              text: "122"
            },
            {
              text: "131"
            }
          ],
          [
            {
              text: "Rita Patel"
            },
            {
              text: "126"
            },
            {
              text: "142"
            }
          ]
        ]
      }) }}
      {% endset -%}

      {% set pastYearHtml %}
      <h2 class="govuk-heading-l">Past year</h2>
      {{ govukTable({
        head: [
          {
            text: "Case manager"
          },
          {
            text: "Cases opened"
          },
          {
            text: "Cases closed"
          }
        ],
        rows: [
          [
            {
              text: "David Francis"
            },
            {
              text: "1380"
            },
            {
              text: "1472"
            }
          ],
          [
            {
              text: "Paul Farmer"
            },
            {
              text: "1129"
            },
            {
              text: "1083"
            }
          ],
          [
            {
              text: "Rita Patel"
            },
            {
              text: "1539"
            },
            {
              text: "1265"
            }
          ]
        ]
      }) }}
      {% endset -%}

      {{ govukTabs({
        items: [
          {
            label: "Pending applications",
            id: "past-day",
            panel: {
              html: pastDayHtml
            }
          },
          {
            label: "Accepted applications",
            id: "past-week",
            panel: {
              html: pastWeekHtml
            }
          },
          {
            label: "Rejected applications",
            id: "past-month",
            panel: {
              html: pastMonthHtml
            }
          }
        ]
      }) }}
    
    </div>

  </div>
{% endblock %}